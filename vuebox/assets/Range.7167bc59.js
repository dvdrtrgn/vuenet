var _=Object.defineProperty;var c=(t,n,s)=>n in t?_(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s;var d=(t,n,s)=>(c(t,typeof n!="symbol"?n+"":n,s),s);import{_ as v,j as w,h as p,k as f,c as y,a as e,w as a,v as u,i as S,b as l,t as i,l as b,d as N,F as L,o as $}from"./index.abfd9591.js";const U=t=>t.constructor.name,V=t=>Number.EPSILON*t||Number.EPSILON;function g(t){let{valid:n,min:s,max:o}=t;n||(s===o&&(o+=V(o)),t._b=o)}class h{constructor(n=-1,s=1){d(this,"_a");d(this,"_b");d(this,"_s",!0);n==s&&(s=n+1),this.min=n,this.max=s}_swap(){[this._a,this._b]=[this._b,this._a]}_enforceOrder(){if(this.strict&&g(this),this._a===this._b)throw`${U(this)}: bad min|max ${this._a}/${this._b}`;this._b<=this._a&&this._swap()}get min(){return this._a}get max(){return this._b}get strict(){return this._s}set min(n){this._a=Number(n),this._enforceOrder()}set max(n){this._b=Number(n),this._enforceOrder()}set strict(n){this._s=Boolean(n),this.strict&&g(this)}get delta(){return this._b-this._a}get valid(){return this._b>this._a}}const O=t=>t.constructor.name;function R(t,n){return t.range.delta*n+t.range.min}function k(t,n){return(n-t.range.min)/t.range.delta}class m{get abs(){return this._raw}get rel(){return k(this,this._raw)}set abs(n){this._raw=Number(n)}set rel(n){if(this.range.valid)this._raw=R(this,n);else throw`${O(this)}: invalid range`}constructor(n){let s;n instanceof h?s=n:s=new h(0,n),this.abs=s.max,this.range=s}get srel(){return this.rel*2-1}set srel(n){this.rel=(n+1)/2}get over(){return this.rel>1}get under(){return this.rel<0}get bounded(){return!(this.over||this.under)}rescale(){this.under?this.range.min=this.abs:this.over&&(this.range.max=this.abs)}relative(){return this.rel.toLocaleString()}}Object.assign(window,{Range:h,Normal:m});const A=w({setup(){let t=p(new h(-5,5)),n=p(new m(t));return n.abs=0,console.log({weight:n,spread:t}),f(()=>{}),{spread:t,weight:n}}}),B=e("h1",null,"Ranged-Normals demo",-1),C={class:"tidy"},M=e("h2",null,"Range (tuple)",-1),P=e("p",null,"A range tuple is a value pair representing a MIN and MAX.",-1),T=e("p",null,"Strictly, the minimum can be any number smaller than the maximum.",-1),z={class:"flex lined"},E=e("p",null,"Set spread...",-1),I=l(" min "),j=l(" max "),D=e("br",null,null,-1),F=l(" strict "),G=e("h3",null,"Properties:",-1),X=e("b",null,"min:",-1),q=e("b",null,"max:",-1),H=e("hr",null,null,-1),J=e("b",null,"valid:",-1),K=e("b",null,"delta:",-1),Q=e("h2",null,"Normal (num)",-1),W={class:"flex lined"},Y=e("p",null,"Set weight...",-1),Z=l(" abs "),x=l(" rel "),ee=l(" srel (signed\xA0normal) "),te=e("h3",null,"Properties:",-1),ne=e("b",null,"abs:",-1),le=e("b",null,"rel:",-1),se=e("b",null,"srel:",-1),ie=e("hr",null,null,-1),re=e("b",null,"bounded:",-1),ae=e("b",null,"over:",-1),oe=e("b",null,"under:",-1),ue=e("br",null,null,-1),de=e("p",null,[e("i",null,[l(" The fraction of the range can be called a \u201Cnormalized\u201D value. "),e("br"),l(" Usually the purpose is to clamp it between 0 and 1, inclusive. "),e("br"),l(" (Or in the case of \u201Csigned normal\u201D between -1 and 1.) ")])],-1);function he(t,n,s,o,pe,be){return $(),y(L,null,[B,e("div",C,[M,P,T,e("div",z,[e("div",null,[e("div",null,[E,e("label",null,[I,a(e("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>t.spread.min=r),type:"number"},null,512),[[u,t.spread.min,void 0,{number:!0}]])]),e("label",null,[j,a(e("input",{"onUpdate:modelValue":n[1]||(n[1]=r=>t.spread.max=r),type:"number"},null,512),[[u,t.spread.max,void 0,{number:!0}]])]),D,e("label",null,[F,a(e("input",{"onUpdate:modelValue":n[2]||(n[2]=r=>t.spread.strict=r),type:"checkbox"},null,512),[[S,t.spread.strict,void 0,{number:!0}]])])])]),e("div",null,[G,e("p",null,[X,l(" "+i(t.spread.min.toLocaleString()),1)]),e("p",null,[q,l(" "+i(t.spread.max.toLocaleString()),1)]),H,e("p",{class:b({error:!t.spread.valid})},[J,l(" "+i(t.spread.valid),1)],2),e("p",null,[K,l(" "+i(t.spread.delta.toLocaleString()),1)])])]),Q,e("div",W,[e("div",null,[Y,e("label",null,[Z,a(e("input",{"onUpdate:modelValue":n[3]||(n[3]=r=>t.weight.abs=r),type:"number"},null,512),[[u,t.weight.abs,void 0,{number:!0}]])]),e("label",null,[x,a(e("input",{"onUpdate:modelValue":n[4]||(n[4]=r=>t.weight.rel=r),type:"number",step:"0.1"},null,512),[[u,t.weight.rel,void 0,{number:!0}]])]),e("label",null,[ee,a(e("input",{"onUpdate:modelValue":n[5]||(n[5]=r=>t.weight.srel=r),step:"0.1"},null,512),[[u,t.weight.srel,void 0,{lazy:!0,number:!0}]])]),a(e("label",null,[e("input",{onClick:n[6]||(n[6]=(...r)=>t.weight.rescale&&t.weight.rescale(...r)),type:"button",value:"scale range"})],512),[[N,!t.weight.bounded]])]),e("div",null,[te,e("p",null,[ne,l(" "+i(t.weight.abs.toLocaleString()),1)]),e("p",null,[le,l(" "+i(t.weight.rel.toLocaleString()),1)]),e("p",null,[se,l(" "+i(t.weight.srel.toLocaleString())+" (signed)",1)]),ie,e("p",{class:b({error:!t.weight.bounded})},[re,l(" "+i(t.weight.bounded),1)],2),e("p",null,[ae,l(" "+i(t.weight.over),1)]),e("p",null,[oe,l(" "+i(t.weight.under),1)])])]),e("p",null,[l(" Given a range of values (say "+i(t.spread.min.toLocaleString())+" to "+i(t.spread.max.toLocaleString())+")... ",1),ue,l(" An absolute value (abs: "+i(t.weight.abs.toLocaleString())+") also has a relative value (rel: "+i(t.weight.rel.toLocaleString())+") to that range. ",1)]),de])],64)}var _e=v(A,[["render",he]]);export{_e as default};
